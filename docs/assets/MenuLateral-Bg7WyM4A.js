import{r as n,j as a,u as T,l as U}from"./index-BjRHFwR3.js";const F=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,r)=>r?r.toUpperCase():o.toLowerCase()),J=s=>{const e=z(s);return e.charAt(0).toUpperCase()+e.slice(1)},D=(...s)=>s.filter((e,o,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===o).join(" ").trim(),V=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var W={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const q=n.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:r,className:A="",children:m,iconNode:u,...x},p)=>n.createElement("svg",{ref:p,...W,width:e,height:e,stroke:s,strokeWidth:r?Number(o)*24/Number(e):o,className:D("lucide",A),...!m&&!V(x)&&{"aria-hidden":"true"},...x},[...u.map(([f,N])=>n.createElement(f,N)),...Array.isArray(m)?m:[m]]));const h=(s,e)=>{const o=n.forwardRef(({className:r,...A},m)=>n.createElement(q,{ref:m,iconNode:e,className:D(`lucide-${F(J(s))}`,`lucide-${s}`,r),...A}));return o.displayName=J(s),o};const $=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_=h("bell",$);const aa=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ea=h("check-check",aa);const ta=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sa=h("check",ta);const oa=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ia=h("file-text",oa);const ra=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],na=h("key",ra);const ca=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],la=h("log-out",ca);const da=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Aa=h("menu",da);const ma=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ha=h("user",ma);const ga=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H=h("x",ga),ua="data:image/png;base64,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",pa="data:image/png;base64,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",Na=()=>{const[s,e]=n.useState("light");n.useEffect(()=>{localStorage.getItem("theme")==="dark"&&(document.body.classList.add("dark"),e("dark"))},[]);const o=()=>{const A=document.body.classList.toggle("dark")?"dark":"light";e(A),localStorage.setItem("theme",A)};return a.jsxs("button",{className:"theme-toggle",onClick:o,children:[a.jsx("img",{src:s==="dark"?pa:ua,alt:s==="dark"?"Mudar para modo claro":"Mudar para modo escuro"}),a.jsx("span",{children:"Alterar Tema"})]})};function ka({children:s,currentPage:e="Início",nome:o,email:r,avatar:A}){const[m,u]=n.useState(!1),[x,p]=n.useState(!1),[f,N]=n.useState(!1),[b,k]=n.useState([]),w=T();n.useEffect(()=>{const t=localStorage.getItem("usuarioLogado");if(!t)return;const i=JSON.parse(t),g=`notas_${i.email}`,c=`readNotifications_${i.email}`,l=localStorage.getItem(g),C=localStorage.getItem(c),O=new Set(C?JSON.parse(C):[]);if(!l){k([]);return}const P=JSON.parse(l),Y=new Date,R=P.map(d=>{if(!d.dataCompra||!d.duracaoGarantia)return null;const[B,K,S]=d.dataCompra.split("/");if(!B||!K||!S)return null;const Q=new Date(`${S}-${K}-${B}`),E=parseInt(d.duracaoGarantia,10);if(isNaN(E))return null;const y=new Date(Q);y.setMonth(y.getMonth()+E);const I=(y.getTime()-Y.getTime())/(1e3*60*60*24);let v=null;if(I<0?v="Expirada":I<=30&&(v="Próxima de Expirar"),!v)return null;const X=`${d.produto}-${d.dataCompra}-${d.duracaoGarantia}`;return{produto:d.produto,dataCompra:d.dataCompra,duracaoGarantia:d.duracaoGarantia,tipo:v,lida:O.has(X)}}).filter(Boolean);k(R)},[]);const M=t=>{const i=localStorage.getItem("usuarioLogado");if(!i)return;const c=`readNotifications_${JSON.parse(i).email}`;localStorage.setItem(c,JSON.stringify(Array.from(t)))},Z=t=>{k(i=>{const g=i.map((l,C)=>C===t?{...l,lida:!0}:l),c=new Set(g.filter(l=>l.lida).map(l=>`${l.produto}-${l.dataCompra}-${l.duracaoGarantia}`));return M(c),g})},L=()=>{k(t=>{const i=t.map(c=>({...c,lida:!0})),g=new Set(i.map(c=>`${c.produto}-${c.dataCompra}-${c.duracaoGarantia}`));return M(g),i})},G=()=>{localStorage.removeItem("usuarioLogado"),w("/")},j=t=>{w({Perfil:"/perfil",Início:"/notas","Visualizar Notas":"/notas","Alterar Senha":"/alterar-senha"}[t]||"/notas"),u(!1)};return a.jsxs("div",{className:"layout-container",children:[a.jsx("button",{className:"mobile-menu-button",onClick:()=>u(!0),children:a.jsx(Aa,{className:"menu-icon"})}),m&&a.jsx("div",{className:"sidebar-overlay",onClick:()=>u(!1)}),a.jsxs("aside",{className:`sidebar ${m?"sidebar-open":""}`,children:[a.jsx("button",{className:"close-sidebar-button",onClick:()=>u(!1),children:a.jsx(H,{})}),a.jsxs("div",{className:"user-section",onClick:()=>j("Perfil"),children:[a.jsx("div",{className:"user-avatar",children:A?a.jsx("img",{src:A,alt:"Avatar",className:"avatar-image"}):o.split(" ").map(t=>t[0]).join("").slice(0,2)}),a.jsxs("div",{className:"user-info",children:[a.jsx("h3",{children:o}),a.jsx("p",{children:r})]})]}),a.jsx("div",{className:"sidebar-divider"}),a.jsxs("nav",{className:"sidebar-nav",children:[a.jsxs("button",{className:`nav-item ${e==="Visualizar Notas"?"nav-item-active":""}`,onClick:()=>j("Visualizar Notas"),children:[a.jsx(ia,{}),a.jsx("span",{children:"Visualizar Notas"})]}),a.jsxs("button",{className:"nav-item",onClick:()=>p(!0),children:[a.jsx(_,{}),a.jsx("span",{children:"Notificações"}),b.some(t=>!t.lida)&&a.jsx("span",{className:"notification-badge",children:b.filter(t=>!t.lida).length})]}),a.jsxs("button",{className:`nav-item ${e==="Perfil"?"nav-item-active":""}`,onClick:()=>j("Perfil"),children:[a.jsx(ha,{}),a.jsx("span",{children:"Meu Perfil"})]}),a.jsxs("button",{className:`nav-item ${e==="Alterar Senha"?"nav-item-active":""}`,onClick:()=>j("Alterar Senha"),children:[a.jsx(na,{}),a.jsx("span",{children:"Alterar Senha"})]})]}),a.jsx("div",{style:{padding:"12px",borderBottom:"1px solid var(--border-default)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:a.jsx(Na,{})}),a.jsxs("div",{className:"sidebar-footer",children:[a.jsxs("button",{className:"nav-item nav-item-logout",onClick:()=>N(!0),children:[a.jsx(la,{}),a.jsx("span",{children:"Sair"})]}),a.jsx("div",{className:"sidebar-logo",children:a.jsx("img",{src:U,alt:"Logo"})})]})]}),a.jsx("main",{className:"main-content",children:s}),x&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"notification-overlay",onClick:()=>p(!1)}),a.jsxs("div",{className:"notification-popup",children:[a.jsxs("div",{className:"notification-header",children:[a.jsx("h3",{children:"Notificações"}),a.jsxs("div",{className:"notification-actions",children:[a.jsx("button",{onClick:L,children:a.jsx(ea,{size:18})}),a.jsx("button",{onClick:()=>p(!1),children:a.jsx(H,{size:18})})]})]}),a.jsx("div",{className:"notification-list",children:b.map((t,i)=>a.jsxs("div",{className:`
                    notification-item
                    ${t.tipo==="Expirada"?"notification-expirada":"notification-proxima"}
                    ${t.lida?"notification-lida":""}
                `,children:[a.jsxs("div",{children:[a.jsx("strong",{children:t.produto}),a.jsx("p",{children:t.tipo}),a.jsxs("small",{children:["Compra: ",t.dataCompra," • Garantia: ",t.duracaoGarantia," ","meses"]})]}),!t.lida&&a.jsx("button",{className:"mark-read-icon",onClick:()=>Z(i),children:a.jsx(sa,{size:16})})]},i))})]})]}),f&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"logout-overlay",onClick:()=>N(!1)}),a.jsxs("div",{className:"logout-modal",children:[a.jsx("h3",{children:"Deseja sair?"}),a.jsx("p",{children:"Você precisará entrar novamente para acessar sua conta."}),a.jsxs("div",{className:"logout-actions",children:[a.jsx("button",{className:"logout-cancel",onClick:()=>N(!1),children:"Cancelar"}),a.jsx("button",{className:"logout-confirm",onClick:G,children:"Sair"})]})]})]})]})}export{ka as M,ha as U,H as X,h as c};
