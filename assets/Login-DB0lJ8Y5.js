import{u as S,r as t,j as e,L as c}from"./index-BX5hDoQV.js";import{o as N,a as E}from"./olho-fechado-2HNuxvqX.js";const b=()=>{const d=S(),[o,h]=t.useState(""),[r,g]=t.useState(""),[n,a]=t.useState(""),[i,x]=t.useState(!1),p=()=>x(!i),l=()=>{n&&a("")},j=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),v=s=>{if(s.preventDefault(),!o||!r){a("Todos os campos são obrigatórios.");return}if(!j(o)){a("Por favor, digite um endereço de email válido.");return}const m=JSON.parse(localStorage.getItem("usuarios")||"[]").find(u=>u.email===o.toLowerCase()&&u.senha===r);if(!m){a("Usuário não cadastrado ou senha incorreta.");return}localStorage.setItem("usuarioLogado",JSON.stringify(m)),a(""),d("/notas")};return e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"side-image-login"}),e.jsx("div",{className:"form-container",children:e.jsxs("div",{className:"form-card",children:[e.jsx("h2",{children:"Sistema de Controle de Garantia"}),e.jsx("p",{children:"Entre com suas credenciais para acessar"}),e.jsxs("form",{onSubmit:v,className:"login-form",children:[e.jsx("input",{type:"text",placeholder:"seu@email.com",value:o,onChange:s=>h(s.target.value),onFocus:l}),e.jsxs("div",{className:"campo-senha",children:[e.jsx("input",{type:i?"text":"password",placeholder:"••••••••",value:r,onChange:s=>g(s.target.value),onFocus:l}),e.jsx("img",{src:i?N:E,alt:"mostrar senha",onClick:p,className:"icone-senha"})]}),n&&e.jsx("span",{className:"erro-texto",children:n}),e.jsx("button",{type:"submit",className:"botao-login",children:"Entrar"})]}),e.jsxs("div",{className:"links",children:[e.jsx(c,{to:"/esqueceu-senha",children:"Esqueceu a senha?"}),e.jsx(c,{to:"/cadastro",children:"Não tem uma conta? Cadastre-se"}),e.jsx(c,{to:"/notas",onClick:()=>{const s={nome:"Visitante",email:"visitante@local",senha:""};localStorage.setItem("usuarioLogado",JSON.stringify(s))},children:"Entrar como visitante"})]})]})})]})};export{b as default};
